#!/usr/bin/env bash
if [[ "$#" > 0 ]]
then
    echo -n "Error Compiling:    "
    grep -i '^ *^' "$@" | wc -l

    echo -n "NotImplementedYet:  "
    grep -i '^Exception in.*NotImplementedYet:' "$@" | wc -l

    echo -n "Other Exceptions:   "
    grep '^Exception in ' "$@" | grep -v NotImplementedYet | wc -l

    echo -n "Errors in BPL:      "
    grep -i '^[A-Z][A-Za-z0-9_]*.bpl(.*Error:' "$@" | sed -e 's/(.*//' | uniq | wc -l

    echo -n "Fully Verified:     "
    grep -i ' verified, 0 errors$' "$@" | wc -l
    
    echo -n "Verify time outs:   "
    grep -i ' verified, 0 errors, ' "$@" | wc -l
    
    echo -n "Verify errors:      "
    grep -i ' verified, [^0] error' "$@" | wc -l
    
else
    echo "Usage: $0 OUT*.txt"
    exit 1
fi
